import time
import thumby
import math

# BITMAP: width: 32, height: 32
bitmapBackground = bytearray([32,32,32,32,32,32,32,255,32,32,32,32,32,32,32,255,255,32,32,32,32,32,32,32,255,32,32,32,32,32,32,32,255,255,32,32,32,32,32,32,32,255,32,32,32,32,32,32,32,8,8,8,8,8,8,8,255,8,8,8,8,8,8,8,255,255,8,8,8,8,8,8,8,255,8,8,8,8,8,8,8,255,255,8,8,8,8,8,8,8,255,8,8,8,8,8,8,8,6,6,6,6,6,6,6,255,6,6,6,6,6,6,6,255,255,6,6,6,6,6,6,6,255,6,6,6,6,6,6,6,255,255,6,6,6,6,6,6,6,255,6,6,6,6,6,6,6,65,65,65,65,65,65,65,255,65,65,65,65,65,65,65,255,255,65,65,65,65,65,65,65,255,65,65,65,65,65,65,65,255,255,65,65,65,65,65,65,65,255,65,65,65,65,65,65,65,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,15,0,0,0,0,0,0,0])
numbers = [
    [0,0,0,0,0,0,0,0],
    [0,4,12,4,4,14,0],
    [0,4,10,2,4,14,0],
    [0,12,2,4,2,12,0],
    [0,10,10,14,2,2,0],
    [0,14,8,14,2,12,0],
    [0,14,8,14,10,14,0],
    [0,14,2,4,4,4,0],
    [0,14,10,4,10,14,0],
    [0,14,10,14,2,14,0]
]
invertedNumbers = [
    [255,255,255,255,255,255,255,255],
    [31,27,19,27,27,17,31,31,31],
    [31,27,21,29,27,17,31],
    [31,19,29,27,29,19,31],
    [31,21,21,17,29,29,31],
    [31,17,23,17,29,19,31],
    [31,17,23,17,21,17,31],
    [31,17,29,27,27,27,31],
    [31,17,21,27,21,17,31],
    [31,17,21,17,29,17,31]
]
bgSprite = thumby.Sprite(49, 36, bitmapBackground)
numberSprites = [thumby.Sprite(7,5,i) for i in numbers]
invertedNumberSprites = [thumby.Sprite(7,5,i) for i in invertedNumbers]
thumby.display.setFPS(30)
selected = [0,0]
def fixSelected():
    selected = [min(5,max(0,selected[0])),min(5,max(0,selected[1]))]
board = [[0,3,0,4,0,0],[0,0,5,6,0,3],[0,0,0,1,0,0],[0,1,0,3,0,5],[0,6,4,0,3,1],[0,0,1,0,4,6]]
while(1):
    t0 = time.ticks_ms()   # Get time (ms)
    
    if thumby.buttonL.pressed():
        selected[0] -= 1
    if thumby.buttonU.pressed():
        selected[1] += 1
    if thumby.buttonR.pressed():
        selected[0] += 1
    if thumby.buttonD.pressed():
        selected[1] -= 1
    fixSelected()
    thumby.display.drawSprite(bgSprite)
    for 
    thumby.display.update()
